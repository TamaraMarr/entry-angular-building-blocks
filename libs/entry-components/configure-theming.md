# Theming Configuration Guide

#### Prerequisites: 
Ensure that the following libraries are installed:   
 `@enigmatry/entry-components`  
 `@enigmatry/entry-form`


The `@enigmatry/entry-components` library comes with generator mixin which simplifies project theming by eliminating the need for extensive custom styling   While it comes with default settings, it offers the flexibility to be configured to meet the unique requirements of each project. A wide range of properties can be leveraged to introduce varied style changes when configured appropriately. The guide provides a detailed walkthrough of this process.

### Folder structure

We need separate file for including theme related style files. By our [SCSS coding standard](https://wiki.enigmatry.com/en/standards-and-guidelines/sass-coding-standard) it should be inside `styles/partials/vendors/libraries` subfolder. Create entry subfolder if it isn't already defined in project.The entry subfolder should contain the following SCSS partials:

1. `_index.scss` entry point for mainating good SCSS structure
2. `_general.scss` - Imports necessary library generator files for configuring theming.
3. `_scss-foundation.scss` - imports the scss foundation library

### Include theme-related style files
Within the `general.scss` partial, import the generator file from the library and our custom variables related to the project.

The generator file represents a collection of includes and a mixin that, when used, generates styles for various components based on a combination of a default theme and a custom theme. The generators for each entry component handle the specifics of styling based on the provided theme. You can check which components are supported on the [Components demo](https://entry-demo.enigmatry.com/) application.

In summary, the generator:
- Includes multiple generator files for supported entry components (dialog, table, button, form...)
- Generates [Angular Material](https://material.angular.io/guide/theming) for customization of color pallets, typography, and density settings
- Sets up  default, boilerplate theme with predefined values
- Combines default theme and custom theme styles

```
@use 'entry-components/styles/generator'
@use 'variables' as vars;
```

### Define $custom-theme map 

Next, define the $custom-theme map that will be expanded with various customization options based on specific needs.

```
$custom-theme: ();
```

Include and apply the styles generated by the generate-from mixin in the 'generator' module, using the customization options provided in the $custom-theme map. 

```
@include generator.generate-from($custom-theme);
```

Our theme is now an empty object, and default library theme is used.

```
@use 'entry-components/styles/generator';
@use 'variables' as vars;

$custom-theme: (
);

@include generator.generate-from($custom-theme);
```

###  List of Configuration properties

The new custom-theme map variable should override the default theme that is already defined. It contains a nested structure defining various aspects of a theme. Different key parameters can be passed in to extend it and customize it for our needs.

| Submap     | Description              | Possible Options                  |
|--------------|--------------------------|----------------------------------|
| **general**    | settings that influence the overall appearance and behavior of the components.   | `typography`, <br> `fonts`,<br> `spacing`,<br> `inputs`,<br> `buttons`         |
| **tables**    | customize table component styling   | `cells`, <br> `rows`,<br> `contents`        |
| **dialogs**    | set dialog font size   | `title`         |
<br>
> **_NOTE:_** Submaps can't be nested inside each other

### General Submap:

The `general` section in the `$theme` configuration contains settings that shape the overall look and behavior of the components.

- **Density:** set to `0` by default, controls the spacing and compactness of elements. Other possibilites are -`1` & `1`. For  [more info check](https://m2.material.io/design/layout/applying-density.html#usage)

- **Colors:** defines various color properties:
  - `primary` and `accent` represent the default primary and accent colors.
  - `font` specifies the default font color.
  - `disabled` contains settings for disabled state:
    - `foreground` defines the text color for disabled elements.
    - `background` specifies the background color for disabled elements.

- **Fonts:** allow customization of typography and font styles.
We can use custom fonts or predefined fonts that comes with `entry-components` library (Montserrat, OpenSans, Roboto). 
  1. **Default Fonts Configuration**:
    When opting for default fonts, the necessary configuration takes place in the `angular.json` file at the root of the app. The fonts are imported from the node modules and specified in the "assets" section as follows:  
  ```
   "assets": [
      "src/favicon.ico",
      "src/assets",
      {
        "glob": "**/*",
        "input": "./node_modules/@enigmatry/entry-components/assets/",
        "output": "/assets/"
      }
    ],
  ```
  2. **Custom Fonts Configuration**, they needs to be imported locally in separated file using @font-face rule (our preferable SCSS structure is modules/components/typography/fonts.scss). Related configurations include:
  - `hero-titles` define typography for h1, h2, h3, h4 elements
    - `family`
    - `size` 
  - `titles` define typography h3, h4 elements
    - `family`
    - `size` 
  - `body` define typography for base body text
    - `family`
    - `size` 
  - `buttons` define buttons and anchors
    - `family`
    - `size` 


- **Spacing:** The submap, with a default of `15px`, determines the default spacing between elements.

- **Buttons:** Additional customization buttons: 
    - `icon-size` - defines the default icon size for buttons. 

Code Example of general submap configuration:

```
$theme: (
	general: (
		density: 0,
		colors: (
			primary: #2581C4,
			accent: #EA518D,
			font: #323232,
			disabled: (
				foreground: rgb(0 0 0 / .38),
				background: rgb(0 0 0 / .12)
			)
		),
		fonts: (
			hero-titles: (
				family: 'Times New Roman',
				size: 30px
			),
			titles: (
				family: 'Inter',
				size: 14px
			)
		),
		spacing: (
			default: 15px
		),
		buttons: (
			icon-size: 48px
		)
	)
)
```

### Tables Submap:

The `tables` section in the `$theme` configuration handles how table components are styled and themed.

- **Cells:** contains properties related to individual cells in a table:
  - `edge-gap` specifies the gap between cell edges.
  - `padding` allows customization of cell padding.

- **Rows:** handles the appearance of table rows:
  - `selected-color` sets the background color for selected rows.
  - `disabled-color` defines the background color for disabled rows.
  - `odd-even-row` determines whether odd or even rows are styled differently.
  - `odd-even-background` sets the background color for odd or even rows.

- **Contents:** manages the styling of table content:
  - `no-result` contains properties for the appearance of a message displayed when there are no search results:
    - `font-size` specifies the font size of the message.
    - `font-weight` controls the font weight of the message.

```
$theme: (
	tables: (
		cells: (
			edge-gap: 4px,
			padding: null
		),
		rows: (
			selected-color: #FFF,
			disabled-color: #F5F5F5,
			odd-even-row: odd,
			odd-even-background: #F0F0F0
		),
		contents: (
			no-result: (
				font-size: 13px,
				font-weight: 500
			)
		)
	)
);
```

### Dialogs Submap:

The `dialogs` submap within `$theme` focuses on configuring the appearance of dialog components.

- **Title:** includes properties related to the title of a dialog:
  - `size` determines the font size of the dialog title.

```
$theme: (
	dialogs: (
		title: (
			size: 20px
		)
	)
);
```